"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isStringArray = isStringArray;
exports.isObjectWithStringKeys = isObjectWithStringKeys;
exports.isPromise = isPromise;
exports.isAttributes = isAttributes;
exports.assertUnreachable = assertUnreachable;
const core_1 = require("@opentelemetry/core");
/**
 * Type guard to determine whether or not a value is an array of strings.
 * @param value
 * @returns true if the value is an array of strings, false otherwise.
 */
function isStringArray(value) {
    return Array.isArray(value) && value.every((v) => typeof v === "string");
}
/**
 * Type guard to determine whether or not a value is an object.
 * @param value
 * @returns true if the value is an object, false otherwise.
 */
function isObject(value) {
    return typeof value === "object" && value !== null && !Array.isArray(value);
}
/**
 * Type guard to determine whether or not a value is an object with string keys.
 * @param value
 * @returns true if the value is an object with string keys, false otherwise.
 */
function isObjectWithStringKeys(value) {
    return (isObject(value) &&
        Object.keys(value).every((key) => typeof key === "string"));
}
/**
 * Type guard for if a function is a Promise
 * @param value
 * @returns true if it is a Promise
 */
function isPromise(value) {
    return (!!value &&
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        typeof (value === null || value === void 0 ? void 0 : value.then) === "function" &&
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        typeof (value === null || value === void 0 ? void 0 : value.catch) === "function");
}
/**
 * Type guard to determine whether or not a value is an object with string keys and attribute values.
 * @param value
 * @returns true if the value is an object with string keys and attribute values, false otherwise.
 */
function isAttributes(value) {
    return (isObject(value) &&
        Object.entries(value).every(([key, value]) => (0, core_1.isAttributeValue)(value) && typeof key === "string"));
}
/**
 * A type check function to ensure that a switch or set of conditionals is exhaustive.
 * Typescript will throw an error if the switch or conditionals are not exhaustive.
 * @example
 *  ```typescript
 * type MyType = "a" | "b";
 * function myFunction(value: MyType) {
 *   switch (value) {
 *     case "a":
 *      return "A";
 *    case "b":
 *      return "B";
 *    default:
 *      assertUnreachable(value);
 *   }
 * }
 * ```
 */
function assertUnreachable(value) {
    throw new Error(`Unreachable code reached with value: ${value}`);
}
//# sourceMappingURL=typeUtils.js.map