import { InstrumentationConfig, InstrumentationBase, InstrumentationModuleDefinition } from '@opentelemetry/instrumentation';
import * as bedrock from '@aws-sdk/client-bedrock-runtime';

interface BedrockInstrumentationConfig extends InstrumentationConfig {
    /**
     * Whether to log prompts, completions and embeddings on traces.
     * @default true
     */
    traceContent?: boolean;
    /**
     * A custom logger to log any exceptions that happen during span creation.
     */
    exceptionLogger?: (e: Error) => void;
}

declare class BedrockInstrumentation extends InstrumentationBase {
    protected _config: BedrockInstrumentationConfig;
    constructor(config?: BedrockInstrumentationConfig);
    setConfig(config?: BedrockInstrumentationConfig): void;
    protected init(): InstrumentationModuleDefinition;
    manuallyInstrument(module: typeof bedrock): void;
    private wrap;
    private unwrap;
    private wrapperMethod;
    private _wrapPromise;
    private _startSpan;
    private _endSpan;
    private _setRequestAttributes;
    private _setResponseAttributes;
    private _shouldSendPrompts;
    private _extractVendorAndModel;
}

export { BedrockInstrumentation };
export type { BedrockInstrumentationConfig };
