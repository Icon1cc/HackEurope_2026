import * as core from "../core/index.mjs";
import { Usage as UsageClient } from "../api/resources/usage/client/Client.mjs";
export class Usage extends UsageClient {
    constructor() {
        super(...arguments);
        this.signals = [];
    }
    flush(requestOptions) {
        const response = this.recordBulk({ signals: this.signals }, requestOptions);
        this.signals = [];
        return response;
    }
    record(signal = {}, requestOptions) {
        if (!this.signals) {
            this.signals = [];
        }
        this.signals.push(signal);
        if (this.signals.length >= 100) {
            const response = this.recordBulk({ signals: this.signals }, requestOptions);
            this.signals = [];
            return response;
        }
        return core.HttpResponsePromise.fromResult({ data: undefined, rawResponse: {} });
    }
}
